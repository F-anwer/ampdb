<!doctype html>
<html lang="en">
{% load static %}
<head>

    <div class="sticky-top">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" height="100" href="{% url 'ampdb:index' %}">
                <img src="{% static 'logo.png' %}" width="200">
            </a>

            <div class="avbar-nav ml-auto mb-2 mb-lg-0 justify-content-right" id="navbarNav">
                <ul class="nav nav-tabs">
                    <li class="nav-item">

                        <a class="nav-link text-dark" href="#">Tutorials</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="{% url 'ampdb:contact' %}">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="{% url 'ampdb:about_us' %}">About Us</a>
                    </li>
                </ul>
                </span>
            </div>
            </head>
    </div>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    {#      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">#}
</head>
<body>
<div class="cover"
     style="background-image: url({% static 'amp.jpg' %}); background-repeat: no-repeat; background-attachment: relative; background-position: bottom;">
    <div class="container">
        {% if protein %}
            <h1>{{ protein.name }}</h1>
            <div class="container p-2">
                <ul class="nav nav-tabs nav-justified">
                    <li class="nav-item mr-1">
                        <a class="nav-link" role="tab" data-toggle="tab" href="#physio">Physiochemical
                            Parameters</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#struct" role="tab" data-toggle="tab">Peptide>Structure</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#docking" role="tab" data-toggle="tab">Docking</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#results" role="tab" data-toggle="tab">Results</a>
                    </li>
                </ul>
                <div class="tab-content shadow-lg">
                    <div class="tab-pane fade show bg-white text-dark active" role="tab" id="physio">
                        <div class="nav nav-tabs flex-content">
                            <table class="table table-hover">
                                  <thead>
                                    <tr>
                                      <th scope="col">Property</th>
                                      <th scope="col">Value</th>
                                    </tr>
                                  </thead>
                                <tbody>
                                <tr>
                                    <td>Sequence</td>
                                    <td>{{ protein.sequence }}</td>
                                </tr>

                                <tr>
                                    <td>Timy</td>
                                    <td>{{ protein.tiny }}</td>
                                </tr>

                                <tr>
                                    <td>Small</td>
                                    <td>{{ protein.small }}</td>
                                </tr>

                                <tr>
                                    <td>Aliphatic</td>
                                    <td>{{ protein.aliphatic }}</td>
                                </tr>

                                <tr>
                                    <td>Aromatic</td>
                                    <td>{{ protein.aromatic }}</td>
                                </tr>

                                <tr>
                                    <td>None-Polar</td>
                                    <td>{{ protein.non_polar }}</td>
                                </tr>

                                <tr>
                                    <td>None-Polar</td>
                                    <td>{{ protein.non_polar }}</td>
                                </tr>

                                <tr>
                                    <td>Polar</td>
                                    <td>{{ protein.polar }}</td>
                                </tr>

                                <tr>
                                    <td>Charged</td>
                                    <td>{{ protein.charged_aa }}</td>
                                </tr>

                                <tr>
                                    <td>Basic</td>
                                    <td>{{ protein.basic }}</td>
                                </tr>

                                <tr>
                                    <td>Acidic</td>
                                    <td>{{ protein.acidic }}</td>
                                </tr>

                                <tr>
                                    <td>Molecular Weight Tiny</td>
                                    <td>{{ protein.mol_weight_timy }}</td>
                                </tr>

                                <tr>
                                    <td>Molecular Weight Small</td>
                                    <td>{{ protein.mol_weight_small }}</td>
                                </tr>


                                <tr>
                                    <td>Molecular Weight Aliphatic</td>
                                    <td>{{ protein.mol_weight_apliphatic }}</td>
                                </tr>


                                <tr>
                                    <td>Molecular Weight Aromatic</td>
                                    <td>{{ protein.mol_weight_aromatic }}</td>
                                </tr>


                                <tr>
                                    <td>Molecular Weight Non-Polar</td>
                                    <td>{{ protein.mol_weight_non_polar }}</td>
                                </tr>


                                <tr>
                                    <td>Molecular Weight Polar</td>
                                    <td>{{ protein.mol_weight_polar }}</td>
                                </tr>


                                <tr>
                                    <td>Molecular Weight Charged</td>
                                    <td>{{ protein.mol_weight_charged }}</td>
                                </tr>

                                <tr>
                                    <td>Molecular Weight Basic</td>
                                    <td>{{ protein.mol_weight_basic }}</td>
                                </tr>

                                <tr>
                                    <td>Molecular Weight Acidic</td>
                                    <td>{{ protein.mol_weight_acidic }}</td>
                                </tr>

                                <tr>
                                    <td>Hydrophobicity</td>
                                    <td>{{ protein.hydrophobicity }}</td>
                                </tr>

                                <tr>
                                    <td>Hydrophobic Moment angle (100°)</td>
                                    <td>{{ protein.hmoment_angle }}</td>
                                </tr>

                                <tr>
                                    <td>Hydrophobic Moment angle (160°)</td>
                                    <td>{{ protein.hmoment_2 }}</td>
                                </tr>

                                <tr>
                                    <td>olecular Weight</td>
                                    <td>{{ protein.molecular_weight }}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade show flex-center" id="struct">
                        <div class="nav nav-tabs content-center">
                        <script src="https://3Dmol.org/build/3Dmol-min.js"></script>
                        <div id="container-01" class="mol-container"></div>
                        <style>
                            .mol-container {
                                width: 80%;
                                height: 500px;
                                position: relative;
                            }
                        </style>
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                        <script>
                            jQuery(function () {
                                let element = jQuery('#container-01');
                                let config = {backgroundColor: 'White'};
                                let viewer = $3Dmol.createViewer(element, config);
                                let pdbUri = '/static/pdb/{{ protein.pdb_name}}';
                                jQuery.ajax(pdbUri, {
                                    success: function (data) {
                                        let v = viewer;
                                        v.addModel(data, "pdb");                       /* load data */
                                        v.setStyle({}, {cartoon: {color: 'spectrum'}});  /* style all atoms */
                                        v.zoomTo();                                      /* set camera */
                                        v.render();                                      /* render scene */
                                        v.zoom(1.2, 1000);                             /* slight zoom */
                                    },
                                    error: function (hdr, status, err) {
                                        console.error("Failed to load PDB " + pdbUri + ": " + err);
                                    },
                                });
                            });
                        </script>
                        </div>
                        <a role="button"
                           href='/static/pdb/{{ protein.pdb_name }}'
                           download='/static/pdb/{{ protein.pdb_name }}'
                           class="btn btn-light text-dark ml-0">
                            Download PDB
                        </a>
                    </div>
                </div>
            </div>
            </div>

        {% else %}
            no such protein
        {% endif %}
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>
</html>
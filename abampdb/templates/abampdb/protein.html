{% extends './base.html' %} {% block content %} {% if protein %} {% load static %}
<h1>{{ protein.name }}</h1>
<div id="accordion">
    <div class="card">
        <div class="card-header" id="headingOne">
            <h5 class="mb-0">
                <button class="btn btn-dark" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Description
        </button>
            </h5>
        </div>

        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
                Aurein 1.2 is a short cationic peptide of 15 amino acids. It is one of the most effective antimicrobial peptides. It exhibits the highest activity against A. baumanni with an MIC value of 2 Î¼g/mL.
                <div class="tab-pane fade show flex center" id="struct">
                    <div class="nav nav-tabs flex-content">
                        <script src="https://3Dmol.org/build/3Dmol-min.js"></script>
                        <div id="container-01" class="mol-container"></div>
                        <div>
                            <a role="button" href='/static/pdb/{{ protein.pdb_name }}' download='/static/pdb/{{ protein.pdb_name }}' class="btn btn-light text-dark ml-0">
                        Download pdb
                    </a></div>

                        <style>
                            #container-01 {
                                width: 50%;
                                height: 300px;
                                position: relative;
                                left: 60px;
                                top: 10px;
                                bottom: 30px;
                            }
                            
                            .card-body {
                                padding: 1.5rem
                            }
                            
                            .btn.btn-light.text-dark.ml-0 {
                                margin-left: 0px;
                                margin-top: 60px;
                                margin-bottom: 1px;
                                margin-right: 690px;
                            }
                            
                            .element.style {
                                left: -122px;
                            }
                            
                            .card-body {
                                margin-bottom: -225px;
                            }
                            
                            .nav-tabs {
                                border-bottom: 1px solid #ffffff;
                            }
                        </style>
                        <div style="position: relative;right:100px;left:10px;bottom:300px;margin-right: -50px;margin-left: 700px;margin-top: -100px;">
                            <table>
                                <tbody>
                                    </td>
                                    <td> &nbsp;&nbsp;</td>
                                    <br><br><br><br>
                                    <td valign="top">
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <td align="middle">ID</td>
                                                    <td align="middle">AbAMP1</td>
                                                </tr>
                                                <tr>
                                                    <td align="middle">Name</td>
                                                    <td align="middle">{{ protein.name }}</td>
                                                </tr>
                                                <tr>
                                                    <td align="middle">AMP-Type</td>
                                                    <td align="middle">Experimental
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td align="middle">Length</td>
                                                    <td align="middle">{{ protein.length }}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="tab-content shadow-lg">
        <div class="tab-pane fade show bg-white text-dark active" role="tab" id="physio">
            <div class="nav nav-tabs flex-content">
                <table class="table table-hover">


                    <thead>
                        <tr>
                            <th scope="col">Property</th>
                            <th scope="col">Value</th>
                        </tr>
                    </thead>

                    <tbody>

                        <tr>
                            <td>Sequence</td>
                            <td>{{ protein.sequence }}</td>
                        </tr>

                        <tr>
                            <td>Tiny</td>
                            <td>{{ protein.tiny }}</td>
                        </tr>

                        <tr>
                            <td>Small</td>
                            <td>{{ protein.small }}</td>
                        </tr>

                        <tr>
                            <td>Aliphatic</td>
                            <td>{{ protein.aliphatic }}</td>
                        </tr>

                        <tr>
                            <td>Aromatic</td>
                            <td>{{ protein.aromatic }}</td>
                        </tr>

                        <tr>
                            <td>None-Polar</td>
                            <td>{{ protein.non_polar }}</td>
                        </tr>

                        <tr>
                            <td>None-Polar</td>
                            <td>{{ protein.non_polar }}</td>
                        </tr>

                        <tr>
                            <td>Polar</td>
                            <td>{{ protein.polar }}</td>
                        </tr>

                        <tr>
                            <td>Charged</td>
                            <td>{{ protein.charged_aa }}</td>
                        </tr>

                        <tr>
                            <td>Basic</td>
                            <td>{{ protein.basic }}</td>
                        </tr>

                        <tr>
                            <td>Acidic</td>
                            <td>{{ protein.acidic }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Tiny</td>
                            <td>{{ protein.mol_weight_timy }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Small</td>
                            <td>{{ protein.mol_weight_small }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Aliphatic</td>
                            <td>{{ protein.mol_weight_apliphatic }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Aromatic</td>
                            <td>{{ protein.mol_weight_aromatic }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Non-Polar</td>
                            <td>{{ protein.mol_weight_non_polar }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Polar</td>
                            <td>{{ protein.mol_weight_polar }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Charged</td>
                            <td>{{ protein.mol_weight_charged }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Basic</td>
                            <td>{{ protein.mol_weight_basic }}</td>
                        </tr>

                        <tr>
                            <td>Mole% Acidic</td>
                            <td>{{ protein.mol_weight_acidic }}</td>
                        </tr>
                        <tr>
                            <td>MolecularWeight</td>
                            <td>{{ protein.molecular_weight }}</td>
                        </tr>
                        <tr>
                            <td>Length</td>
                            <td>{{ protein.length }}</td>
                        </tr>
                        <tr>
                            <td>Charge</td>
                            <td>{{ protein.charge }}</td>
                        </tr>
                        <tr>
                            <td>pI</td>
                            <td>{{ protein.p_i }}</td>
                        </tr>
                        <tr>
                            <td>AIndex</td>
                            <td>{{ protein.a_index }}</td>
                        </tr>
                        <tr>
                            <td>InstaIndex</td>
                            <td>{{ protein.instaIndex }}</td>
                        </tr>
                        <tr>
                            <td>BomanIndex</td>
                            <td>{{ protein.BomanIndex }}</td>
                        </tr>
                        <tr>
                            <td>BomanIndex</td>
                            <td>{{ protein.BomanIndex }}</td>
                        </tr>

                        <tr>
                            <td>Hydrophobicity</td>
                            <td>{{ protein.hydrophobicity }}</td>
                        </tr>

                        <tr>
                            <td>Hydrophobic Moment</td>
                            <td>{{ protein.hmoment_angle }}</td>
                        </tr>
                        <tr>
                            <td>Transmembrane</td>
                            <td>{{ protein.transmembrane }}</td>
                        </tr>

                        <tr>
                            <td>Extracellular</td>
                            <td>{{ protein.extracellular }}</td>
                        </tr>
                        <tr>
                            <td>Cytoplasmic</td>
                            <td>{{ protein.cytoplasmic }}</td>
                        </tr>
                        <tr>
                            <td>Hydrophobic Plots</td>
                            <td>{{ protein.hydrophobic_plots }}</td>
                        </tr>
                        <tr>
                            <td>Hydropathy Plots</td>
                            <td>{{ protein.hydropathy_plots }}</td>
                        </tr>

                        <tr>
                            <td>DisulfideEnd</td>
                            <td>{{ protein.disulfide_end }}</td>
                        </tr>

                        <tr>
                            <td>Toxicity</td>
                            <td>{{ protein.toxicity }}</td>
                        </tr>
                        <tr>
                            <td>RMSF</td>
                            <td>{{ protein.rmsf }}</td>
                        </tr>
                        <tr>
                            <td>Flexibility</td>
                            <td>
                                <a href="{{ protein.flexibility }}"></a>
                            </td>
                        </tr>
                        <tr>
                            <td>Score</td>
                            <td>{{ protein.score }}</td>
                            <td>
                                <div class="btn-right">
                                    <br><button type="button" href='/static/ampdb.csv' class="btn btn-primary">Download</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <script>
                jQuery(function() {
                    let element = jQuery("#container-01");
                    let config = {
                        backgroundColor: "White"
                    };
                    let viewer = $3Dmol.createViewer(element, config);
                    let pdbUri = '/static/pdb/{{ protein.pdb_name }}';
                    jQuery.ajax(pdbUri, {
                        success: function(data) {
                            let v = viewer;
                            v.addModel(data, "pdb"); /* load data */
                            v.setStyle({}, {
                                cartoon: {
                                    color: "purple"
                                }
                            }); /* style all atoms */
                            v.zoomTo(); /* set camera */
                            v.render(); /* render scene */
                            v.zoom(1.2, 1000); /* slight zoom */
                        },
                        error: function(hdr, status, err) {
                            console.error("Failed to load PDB " + pdbUri + ": " + err);
                        },
                    });
                });
            </script>

        </div>
        <div class="container-fluid"></div>
        <div class="tab-pane fade show flex-center" id="docking">
            <div class="nav nav-tabs content-center">
                <script src="https://3Dmol.org/build/3Dmol-min.js"></script>
                <div id="container-02" class="mol-container"></div>

                <style>
                    #carouselExampleIndicators {
                        width: 30%;
                        height: 200px;
                        position: relative;
                        left: 250px;
                        top: 50px;
                        right: 200px;
                    }
                    
                    .carousel-control-prev-icon {
                        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23000000' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E");
                    }
                    
                    .carousel-control-next-icon {
                        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23000000' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E");
                    }
                    
                    .carousel-indicators {
                        bottom: -210px;
                        background-color: #e7e9eb;
                    }
                </style>

                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="/static/img/Picture1.jpg" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="/static/img/Picture2.jpg" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="/static/img/Picture3.jpg" alt="third slide">
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>

                <style>
                    #container-02 {
                        width: 40%;
                        height: 350px;
                        position: relative;
                        left: 70px;
                        top: 20px;
                        right: 500px;
                    }
                    
                    .button {
                        position: absolute;
                        top: 80%;
                        left: 80%;
                    }
                </style>


                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                <script>
                    jQuery(function() {
                        let element = jQuery("#container-02");
                        let config = {
                            backgroundColor: "White"
                        };
                        let viewer = $3Dmol.createViewer(element, config);
                        let pdbUri = '/static/dock/dock_{{ protein.pdb_name }}';
                        jQuery.ajax(pdbUri, {
                            success: function(data) {
                                let v = viewer;
                                v.addModel(data, "pdb"); /* load data */
                                v.setStyle({}, {
                                    cartoon: {
                                        color: "spectrum"
                                    }
                                }); /* style all atoms */
                                v.zoomTo(); /* set camera */
                                v.render(); /* render scene */
                                v.zoom(1.2, 1000); /* slight zoom */
                            },
                            error: function(hdr, status, err) {
                                console.error("Failed to load PDB " + pdbUri + ": " + err);
                            },
                        });
                    });
                </script>


                <div class="container-fluid physico-chemical-property-container m-t-50" align="center" style="position: relative;">
                    <div>
                        <a role="button" href='/static/dock/dock_{{ protein.pdb_name }}' download='/static/dock/dock_{{ protein.pdb_name }}' class="btn btn-light text-dark ml-0">
                Download PDB
             </a>
                    </div>
                    <h5 class="m-t-50">Docking Interaction Energy Values</h5>
                    <div id="DataTables wrapper" class="dataTables_wrapper">
                        <div class="row">
                            <div class="col-sm-12 col-md-6"></div>
                            <div class="col-sm-12 col-md-6">
                                <div class="dataTables_scroll">
                                    <div class="dataTables_scrollHead" style="overflow: hidden; position: relative; border: 0px; width: 100%;">
                                        <div class="dataTables_scrollHeadInner" style="box-sizing: content-box; width: 1199px; padding-right: 0px;">
                                            <table class="table physico-chemical-property dataTable no-footer" role="grid" style="margin-left: 0px; width: 1199px; padding-right: 0px;">
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <td> &nbsp;&nbsp;</td>
                        <td valign="top">
                            <table class="table table-bordered border=1 width=100">
                                <tbody>
                                    <tr role="row" class="">
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 100px;">AbAMPs</th>
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 47.9375px;">Global Energy</th>
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 67.9062px;">Attractive VdW</th>
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 67.9062px;">Repulsive VdW</th>
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 67.9062px;">ACE</th>
                                        <th class="sorting_disabled" rowspan="1" colspan="1" style="width: 67.9062px;">HB</th>
                                    </tr>
                                    <tr>
                                        <td align="middle">{{ protein.name }}_OMP 33-36</td>
                                        <td align="middle">-14.18</td>
                                        <td align="middle">-6.94</td>
                                        <td align="middle">6.11</td>
                                        <td align="middle">-5.16</td>
                                        <td align="middle">-0.48</td>

                                </tbody>
                            </table>
                            </tr>
                            <tr>
                                <div class="btn-right">
                                    <br><button type="button" class="btn btn-primary">Download</button>
                                </div>
                            </tr>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% else %} no such protein {% endif %} {% endblock %}